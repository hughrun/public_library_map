<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>Library Map</title>
    <link rel="shortcut icon" href="/logo.svg" type="image/x-icon">
    <!-- css -->
    <link rel="stylesheet" href="/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="/style.css">
    <script defer data-domain="librarymap.hugh.run" src="https://analytics.hugh.run/js/script.js"></script>
  </head>
  <body>
    <header>
      <section id="title">
        <img id="logo" src="/logo.svg"/>
        <h2>Library Map</h2>
      </section>
      <nav>
        <ul>
          <li class="active-tab">Home</li>
          <li><a href="/who-else">Who's using it?</a></li>
          <li><a href="/fines">Fines</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/sources">Acknowledgements</a></li>
          <li><a href="/contributing">Contribute</a></li>
          <li><a href="https://github.com/hughrun/public_library_map">Code</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div id="loading">Loading, please be patient...</div>

      <!-- leaflet script -->
      <script src="/leaflet.js"></script>
      <!-- TopoJSON -->
      <script src="https://unpkg.com/topojson@3"></script>
      <!-- geocsv  -->
      <script src="leaflet.geocsv.js" type="text/javascript"></script>
      <!-- leaflet fill patterns -->
      <script src="leaflet.pattern.js" type="text/javascript"></script>

      <section class="intro">
        <p>Made by <a href="https://www.hughrundle.net">Hugh Rundle</a> using open data. Play with the layers by using the layer control at the top right of the map.</p>
        <p>Email <strong>librarymap@hugh.run</strong> if you have any tips or suggestions.</p>
        <p>You need a <a href="https://caniuse.com/?search=fetch">modern browser</a> with JavaScript enabled to use Library Map. This site does not work in Internet Explorer.</p>
      </section>

      <div id="mode-switch">
        <div></div>
        <button id="mode-button" name="mode-button" class="hidden"></button>
      </div>
      <!-- div to attach everything to -->
      <div id="mapid"></div>
      <!-- declares mapBoxToken constant -->
      <script src="./secrets.js" type="text/javascript"></script>
      <!-- this is the guts of it -->
      <script src="./load-map.js" nonce="NGINX_CSP_NONCE" type="text/javascript"></script>
    </main>
    <footer>
      <p>This website and the data it uses licensed <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a></p>
    </footer>
  </body>
</html>


